{"version":3,"sources":["../../src/process.js"],"names":["update","gender","location","date","console","log","getContents","getClothes","callback","result","data","request","url","qs","error","response","body","summary","weather","temp","clothes","info","JSON","parse","temperature","cloth","client","connect","err","query","description","fields","ko_weather"],"mappings":";;AAAA;AACA;;AAEA,SAASA,MAAT,CAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,IAAlC,EAAwC;AACpCC,YAAQC,GAAR,CAAY,MAAZ;AACH;;AAED,SAASC,WAAT,CAAqBL,MAArB,EAA6BC,QAA7B,EAAuCC,IAAvC,EAA6C,CAE5C;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASI,UAAT,CAAoBJ,IAApB,EAA0BD,QAA1B,EAAoCD,MAApC,EAA4CO,QAA5C,EAAsD;AAClD,QAAIC,SAAS,IAAb;AACA,QAAIC,OAAO;AACPP,cAAMA,IADC;AAEPD,kBAAUA,QAFH;AAGPD,gBAAQA;AAHD,KAAX;;AAMAG,YAAQC,GAAR,CAAYK,IAAZ;AACC,eAAUD,MAAV,EAAkB;AACfE,gBAAQ,EAACC,KAAK,yCAAN,EAAiDC,IAAIH,IAArD,EAAR,EAAoE,UAAUI,KAAV,EAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AACjGC,oBAAQD,IAAR,EAAc,UAAUE,OAAV,EAAmBC,IAAnB,EAAyBC,OAAzB,EAAkC;AAC5CZ,yBAAS,EAACU,SAASA,OAAV,EAAmBC,MAAMA,IAAzB,EAA+BC,SAASA,OAAxC,EAAT;AACH,aAFD;AAGH,SAJD;AAKH,KANA,EAMCX,MAND,CAAD;AAOH;;AAED,SAASQ,OAAT,CAAiBI,IAAjB,EAAuBb,QAAvB,EAAiC;AAC7B,QAAIU,OAAJ;AACA,QAAIC,OAAOG,KAAKC,KAAL,CAAWF,IAAX,EAAiBH,OAAjB,CAAyBM,WAApC;AACA,QAAIJ,UAAUE,KAAKC,KAAL,CAAWF,IAAX,EAAiBI,KAA/B;AACAC,WAAOC,OAAP,CAAe,UAAUC,GAAV,EAAe;AAC1BF,eAAOG,KAAP,CAAa,yDAAyDP,KAAKC,KAAL,CAAWF,IAAX,EAAiBH,OAAjB,CAAyBA,OAAzB,CAAiC,CAAjC,EAAoCY,WAA7F,GAA2G,IAAxH,EAA8H,UAAUhB,KAAV,EAAiBL,MAAjB,EAAyBsB,MAAzB,EAAiC;AAC3J,gBAAIjB,KAAJ,EAAW;AACPV,wBAAQC,GAAR,CAAY,qCAAZ;AACAD,wBAAQC,GAAR,CAAYS,KAAZ;AACAV,wBAAQC,GAAR,CAAY,qCAAZ;AACH,aAJD,MAKK;AACDG,yBAASC,OAAO,CAAP,EAAUuB,UAAnB,EAA+Bb,IAA/B,EAAqCC,OAArC;AACH;AACJ,SATD;AAUH,KAXD;AAYA,WAAOD,IAAP;AACH;;;;;;;;kCAnDQnB,M;;kCAIAM,W;;kCAYAC,U;;kCAkBAU,O","file":"process.js","sourcesContent":["// var mysql = require('mysql');\n// var express = require('express');\n\nfunction update(gender, location, date) {\n    console.log('asdf');\n}\n\nfunction getContents(gender, location, date) {\n\n}\n\n//Connection with MYSQL\n// var client = mysql.createConnection({\n//     host: 'gmsgondr.net',\n//     user: 'info3',\n//     password: '1234',\n//     database: 'info3'\n// });\n\nfunction getClothes(date, location, gender, callback) {\n    var result = null;\n    var data = {\n        date: date,\n        location: location,\n        gender: gender\n    };\n\n    console.log(data);\n    (function (result) {\n        request({url: 'http://www.fashionup.co.kr/api/clothes?', qs: data}, function (error, response, body) {\n            summary(body, function (weather, temp, clothes) {\n                callback({weather: weather, temp: temp, clothes: clothes});\n            });\n        });\n    }(result));\n}\n\nfunction summary(info, callback) {\n    var weather;\n    var temp = JSON.parse(info).weather.temperature;\n    var clothes = JSON.parse(info).cloth;\n    client.connect(function (err) {\n        client.query('Select ko_weather from weather where en_weather = \\'' + JSON.parse(info).weather.weather[0].description + '\\'', function (error, result, fields) {\n            if (error) {\n                console.log('[[ ------------ 에러남 ------------ ]]');\n                console.log(error);\n                console.log('[[ ------------ 에러남 ------------ ]]');\n            }\n            else {\n                callback(result[0].ko_weather, temp, clothes);\n            }\n        });\n    });\n    return temp;\n}"]}